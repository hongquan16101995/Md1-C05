<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
    <style>
        /*table, tr, td {*/
        /*    border: 1px solid;*/
        /*}*/
        table {
            width: 500px;
        }
    </style>
</head>
<body>
<h1><label for="add">Add new product</label></h1>
<input type="text" placeholder="New product" id="add">
<button onclick="addProduct()">Add</button>
<div id="div_edit" style="display: none">
    <h1><label for="edit">Edit product</label></h1>
    <input type="text" placeholder="New name" id="edit">
    <button onclick="edit()">Edit</button>
</div>
<h1>Display all product</h1>
<div id="table_product"></div>
</body>
<script>
    let arrNameProduct = ["Iphone", "Samsung", "OPPO"]

    function displayAllProduct() {
        let data = "<table>"
        data += "<tr>" +
            "<td colspan='2'>Product name</td>" +
            "<td style='color: red'><b>" + arrNameProduct.length +" products</b></td>" +
            "</tr>"
        for (let i = 0; i < arrNameProduct.length; i++) {
            data += "<tr>"
            data += "<td>" + arrNameProduct[i] + "</td>"
            data += "<td>" + "<button onclick='editProduct(" + i + ")'>Edit</button>" + "</td>"
            data += "<td>" + "<button onclick='deleteProduct(" + i + ")'>Delete</button>" + "</td>"
            data += "</tr>"
        }
        data += "</table>"
        document.getElementById("table_product").innerHTML = data
    }

    displayAllProduct()

    function addProduct() {
        let newProduct = document.getElementById("add").value
        if (newProduct !== "") {
            arrNameProduct.push(newProduct)
        }
        document.getElementById("add").value = ""
        displayAllProduct()
    }

    function deleteProduct(index) {
        arrNameProduct.splice(index, 1)
        displayAllProduct()
    }

    let viTri;

    function editProduct(index) {
        // arrNameProduct[index] = prompt("Input new name product: ")
        // displayAllProduct()

        let oldName = arrNameProduct[index]
        viTri = index
        document.getElementById("edit").value = oldName
        document.getElementById("div_edit").style.display = "block"
    }

    function edit() {
        arrNameProduct[viTri] = document.getElementById("edit").value
        document.getElementById("div_edit").style.display = "none"
        displayAllProduct()
    }
</script>
</html>
